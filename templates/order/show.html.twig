{% extends 'base.html.twig' %}

{% block title %}My Restaurant | Comandas{% endblock %}

{% block main %}
<section class="col-12 p-sm-0 pe-lg-3">
    <h2 class="text-center m-0 me-2 mb-5">Table {{ order.tableNumber }}</h2>
    <div class="row d-flex justify-content-evenly">
        <div class="col-12 col-md-6 col-xl-4 mb-5">
            <div class="w-100 menuDia">
                <form action="{{ path('app_order_edit', {'id': order.id}) }}" method="post">
                    <input type="hidden" name="_token" value="{{ csrf_token('edit' ~ order.id) }}">
                    <div class="row justify-content-center text-center">
                        <h4 class="col-5 d-inline-block"><strong>Table:</strong> {{ order.tableNumber }}</h4>
                        <h4 class="col-5 d-inline-block"><strong>Quantity:</strong> {{ order.peopleQty }}</strong></h4>
                    </div>                
                    <hr>
                    {% if order.aperitifs is defined and order.aperitifs is not null %}
                        <div class="col">
                            <h4 class="text-center"><strong>APERITIFS</strong></h4>
                            <ul>
                                {% for aperitif in order.aperitifs %}
                                <li>
                                    <div class="col-9 d-inline-block">
                                        <div id="aperitifs_check{{ aperitif.id }}" class="finished">
                                            {{ aperitif.name|capitalize }}
                                        </div>                                    
                                    </div>
                                    <div class="col-2 d-inline-block">
                                        <input class="numberQty" type="number" name="aperitifs_qty[]" id="aperitifs_qty" value="{{ aperitif.qty }}">                                    
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <hr>
                    {% endif %}
                    {% if order.firsts is defined and order.firsts is not null %}
                        <div class="col">
                            <h4 class="text-center"><strong>FIRSTS</strong></h4>
                            <ul>
                                {% for first in order.firsts %}
                                <li>
                                    <div class="col-9 d-inline-block">
                                        <div id="firsts_check{{ first.id }}" class="finished">
                                            {{ first.name|capitalize }}
                                        </div>                                    
                                    </div>
                                    <div class="col-2 d-inline-block">
                                        <input class="numberQty" type="number" name="firsts_qty[]" id="firsts_qty" value="{{ first.qty }}">                                    
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <hr>
                    {% endif %}
                    {% if order.seconds is defined and order.seconds is not null %}
                        <div class="col">
                            <h4 class="text-center"><strong>SECONDS</strong></h4>
                            <ul>
                                {% for second in order.seconds %}
                                <li>
                                    <div class="col-9 d-inline-block">
                                        <div id="seconds_check{{ second.id }}" class="finished">
                                            {{ second.name|capitalize }}
                                        </div>                                    
                                    </div>
                                    <div class="col-2 d-inline-block">
                                        <input class="numberQty" type="number" name="seconds_qty[]" id="seconds_qty" value="{{ second.qty }}">                                    
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <hr>
                    {% endif %}
                    {% if order.drinks is defined and order.drinks is not null %}
                        <div class="col">
                            <h4 class="text-center"><strong>DRINKS</strong></h4>
                            <ul>
                                {% for drink in order.drinks %}
                                <li>
                                    <div class="col-9 d-inline-block">
                                        <div id="drinks_check{{ drink.id }}" class="finished">
                                            {{ drink.name|capitalize }}
                                        </div>                                    
                                    </div>
                                    <div class="col-2 d-inline-block">
                                        <input class="numberQty" type="number" name="drinks_qty[]" id="drinks_qty" value="{{ drink.qty }}">                                    
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <hr>
                    {% endif %}
                    {% if order.desserts is defined and order.desserts is not null %}
                        <div class="col">
                            <h4 class="text-center"><strong>DESSERTS</strong></h4>
                            <ul>
                                {% for dessert in order.desserts %}
                                <li>
                                    <div class="col-9 d-inline-block">
                                        <div id="desserts_check{{ dessert.id }}" class="finished">
                                            {{ dessert.name|capitalize }}
                                        </div>                                    
                                    </div>
                                    <div class="col-2 d-inline-block">
                                        <input class="numberQty" type="number" name="desserts_qty[]" id="desserts_qty" value="{{ dessert.qty }}">                                    
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <hr>
                    {% endif %}
                    {% if order.coffees is defined and order.coffees is not null %}
                        <div class="col">
                            <h4 class="text-center"><strong>COFFEES</strong></h4>
                            <ul>
                                {% for coffee in order.coffees %}
                                <li>
                                    <div class="col-9 d-inline-block">
                                        <div id="coffees_check{{ coffee.id }}" class="finished">
                                            {{ coffee.name|capitalize }}
                                        </div>                                    
                                    </div>
                                    <div class="col-2 d-inline-block">
                                        <input class="numberQty" type="number" name="coffees_qty[]" id="coffees_qty" value="{{ coffee.qty }}">                                    
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                    <div class="col text-center">
                        <a class="btn btn-outline-success" href="{{ path('app_order') }}">Back to list</a>
                        <button class="btn btn-outline-success" type="submit">Update</button>                                         
                    </div>
                </form>
                {{ include('order/_delete_form.html.twig') }}                                
            </div>                       
        </div>               
    </div>
</section>
{% endblock %}
